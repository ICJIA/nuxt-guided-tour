# Configuration

## Module Options

Configure in `nuxt.config.ts`:

```typescript
export default defineNuxtConfig({
  modules: ['nuxt-guided-tour'],
  guidedTour: {
    // Component prefix (default: 'Tour')
    prefix: 'Tour'
  }
})
```

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `prefix` | `string` | `'Tour'` | Prefix for auto-imported components. Set to `'MyTour'` for `MyTourOverlay`, etc. |

## TourConfig

The `TourConfig` object is passed to `useTour()`:

```typescript
interface TourConfig {
  version: number
  autoStart: boolean
  autoStartDelay: number
  storageKeyPrefix: string
  steps: TourStep[]
  announce?: (message: string, priority?: 'polite' | 'assertive') => void
}
```

| Property | Type | Description |
|----------|------|-------------|
| `version` | `number` | Tour version. Increment to force re-display after changes. |
| `autoStart` | `boolean` | Whether to auto-start for first-time users. |
| `autoStartDelay` | `number` | Delay in ms before auto-starting. |
| `storageKeyPrefix` | `string` | localStorage key prefix. Version is appended: `prefix-v1`. |
| `steps` | `TourStep[]` | Ordered array of tour steps. |
| `announce` | `function` | Optional custom screen reader announcement function. |

## Storage Versioning

The localStorage key is computed as `${storageKeyPrefix}-v${version}`. When you increment `version`, all users will see the tour again because the key changes.

```typescript
// Version 1: stored as "my-tour-v1"
{ version: 1, storageKeyPrefix: 'my-tour' }

// Version 2: stored as "my-tour-v2" (users see tour again)
{ version: 2, storageKeyPrefix: 'my-tour' }
```

## Custom Announcer

By default, the module creates a built-in ARIA live region (`#nuxt-guided-tour-announcer`). Override with your own:

```typescript
const tour = useTour({
  ...tourConfig,
  announce: (message, priority = 'polite') => {
    // Your custom announcement logic
    myAccessibilityService.announce(message, priority)
  }
})
```

## TourStep

Each step defines one point in the tour:

```typescript
interface TourStep {
  id: string
  target: string       // CSS selector
  title: string
  content: string
  tip?: string
  position?: 'top' | 'bottom' | 'left' | 'right'
  align?: 'start' | 'center' | 'end'
  highlight?: boolean  // default: true
  icon?: string        // iconify format
  shortcuts?: Array<{
    label: string
    mac: string[]
    win: string[]
  }>
}
```

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `id` | `string` | required | Unique step identifier. |
| `target` | `string` | required | CSS selector for the target element. |
| `title` | `string` | required | Step title. |
| `content` | `string` | required | Step description. |
| `tip` | `string` | — | Optional tip displayed below content. |
| `position` | `TourPosition` | `'bottom'` | Popover position relative to target. |
| `align` | `TourAlign` | `'center'` | Popover alignment. |
| `highlight` | `boolean` | `true` | Whether to show the highlight ring. |
| `icon` | `string` | — | Iconify icon name. |
| `shortcuts` | `array` | — | Keyboard shortcuts to display. |
